---
import { actions } from "astro:actions";
import Layout from "../../layouts/Layout.astro";

const { data, error } = await Astro.callAction(actions.getEntitiesPaginate, {
    contentType: "project",
    page: 1,
});

if (error) return Astro.redirect("/500");
---

<Layout>
    <section class="flex flex-col gap-4 max-w-6xl px-10">
        {
            data?.entities.map((entity) => {
                return (
                    <div>
                        {entity._id}
                        {entity.excerpt}
                    </div>
                );
            })
        }
    </section>
</Layout>
