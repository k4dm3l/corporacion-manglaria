---
import Layout from "../../layouts/Layout.astro";
import { getCollection } from "astro:content";

const entries = await getCollection("blog");
---

<Layout>
    <section>
        {
            entries.map((entry) => {
                const { data, slug } = entry;
                const { title, author, img, excerpt, timestamp } = data;

                return (
                    <a href={`/blog/${slug}`}>
                        <article>
                            {img && <img />}
                            <div>
                                <h1>{title}</h1>
                                <p>{excerpt}</p>
                                <span>{timestamp}</span>
                            </div>
                            <a href={`/blog/${slug}`}>Leer mas ...</a>
                        </article>
                    </a>
                );
            })
        }
    </section>
</Layout>
